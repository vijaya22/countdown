<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Every Second Counts</title>
    <link rel="stylesheet" href="lib/cropper.min.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="wrap">
        <button id="settingsBtn" class="settings-btn" aria-label="Settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
        </button>

        <div class="stage">
          <div class="timer" aria-live="polite">
            <span class="time" id="hh">00</span><span class="sep">:</span>
            <span class="time" id="mm">00</span><span class="sep">:</span>
            <span class="time" id="ss">00</span>
          </div>

          <div class="plaque">EVERY SECOND COUNTS</div>

          <div class="meta">
            <div id="targetText" class="targetText"></div>
            <div id="statusText" class="statusText"></div>
          </div>
        </div>

      <!-- Date picker modal -->
      <section id="dateModal" class="modal hidden" role="dialog" aria-modal="true">
        <div class="card">
          <div class="cardTitle">Set target date</div>
          <input id="dtInput" type="datetime-local" class="input" />
        </div>
      </section>

      <!-- Settings modal -->
      <section id="settingsModal" class="modal hidden" role="dialog" aria-modal="true">
        <div class="card">
          <div class="cardTitle">Settings</div>

          <!-- Premium banner (shown when premium) -->
          <div id="premiumBanner" class="premium-banner hidden">
            <span class="premium-badge">PREMIUM</span>
            <span class="premium-status">Active</span>
          </div>

          <!-- Upgrade banner (shown when not premium) -->
          <div id="upgradeBanner" class="upgrade-banner">
            <span>Unlock premium themes</span>
            <button id="upgradeBtn" class="upgrade-btn">Upgrade</button>
          </div>

          <label class="toggle-row">
            <span>Sound alert</span>
            <input id="soundToggle" type="checkbox" class="toggle" />
          </label>

          <!-- Theme picker -->
          <div class="theme-section">
            <div class="section-label">Theme</div>
            <div class="theme-presets">
              <button class="theme-preset" data-theme="light">
                <span class="preset-preview" style="background: #f5f5f3; border: 1px solid #e0e0e0;"></span>
                <span class="preset-name">Light</span>
              </button>
              <button class="theme-preset" data-theme="dark">
                <span class="preset-preview" style="background: #1a1a1a;"></span>
                <span class="preset-name">Dark</span>
              </button>
              <button class="theme-preset" data-theme="ocean">
                <span class="preset-preview" style="background: #0f1419;"></span>
                <span class="preset-name">Ocean</span>
                <span class="lock-icon">ðŸ”’</span>
              </button>
              <button class="theme-preset" data-theme="sunset">
                <span class="preset-preview" style="background: #1a1418;"></span>
                <span class="preset-name">Sunset</span>
                <span class="lock-icon">ðŸ”’</span>
              </button>
              <button class="theme-preset" data-theme="forest">
                <span class="preset-preview" style="background: #0d1a0d;"></span>
                <span class="preset-name">Forest</span>
                <span class="lock-icon">ðŸ”’</span>
              </button>
              <button class="theme-preset" data-theme="custom">
                <span class="preset-preview custom-preview" id="customPreview"></span>
                <span class="preset-name">Custom</span>
                <span class="lock-icon">ðŸ”’</span>
              </button>
            </div>

            <!-- Background image upload -->
            <div class="bg-image-section">
              <div class="bg-image-row">
                <span>Background image</span>
                <div class="bg-image-actions">
                  <label id="bgImageLabel" class="bg-image-btn">
                    Upload
                    <input type="file" id="bgImageInput" accept="image/*" hidden />
                  </label>
                  <button id="bgImageRemove" class="bg-image-remove hidden">Remove</button>
                </div>
              </div>
              <span class="lock-icon" id="bgImageLock">ðŸ”’</span>
            </div>

            <!-- Custom color picker (shown when Custom theme selected) -->
            <div id="customColorPicker" class="custom-color-picker hidden">
              <div class="color-row">
                <label>Background</label>
                <input type="color" id="colorBg" class="color-input" value="#1a1a1a" />
              </div>
              <div class="color-row">
                <label>Text</label>
                <input type="color" id="colorText" class="color-input" value="#f5f5f3" />
              </div>
              <div class="color-row">
                <label>Muted</label>
                <input type="color" id="colorMuted" class="color-input" value="#888888" />
              </div>
              <div class="color-row">
                <label>Border</label>
                <input type="color" id="colorBorder" class="color-input" value="#333333" />
              </div>
            </div>
          </div>

          <div class="share-row">
            <span>Share countdown</span>
            <div style="display: flex; align-items: center;">
              <span id="shareStatus" class="share-status"></span>
              <button id="shareBtn" class="share-btn" aria-label="Copy share link">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
                Copy Link
              </button>
            </div>
          </div>

          <a href="https://buymeacoffee.com/vijaya.laxmi" target="_blank" class="coffee-link">
            â˜• Buy me a coffee
          </a>
        </div>
      </section>

      <!-- License modal -->
      <section id="licenseModal" class="modal hidden" role="dialog" aria-modal="true">
        <div class="card">
          <div class="cardTitle">Activate Premium</div>
          <p class="license-info">Enter your license key from your purchase email.</p>
          <input id="licenseInput" type="text" class="input" placeholder="XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX" />
          <div class="license-actions">
            <button id="activateBtn" class="primary-btn">Activate</button>
            <a href="https://everysecondcounts.lemonsqueezy.com/checkout/buy/f9a1a62d-573d-4a4f-aed6-4ae3de74af59" target="_blank" class="buy-link">Buy License</a>
          </div>
          <div id="licenseError" class="license-error hidden"></div>
        </div>
      </section>

      <!-- Crop modal -->
      <section id="cropModal" class="modal hidden" role="dialog" aria-modal="true">
        <div class="card crop-card">
          <div class="cardTitle">Crop Image</div>
          <div class="crop-container">
            <img id="cropImage" src="" alt="Image to crop" />
          </div>
          <div class="crop-actions">
            <button id="cropCancelBtn" class="crop-btn crop-btn-secondary">Cancel</button>
            <button id="cropApplyBtn" class="crop-btn crop-btn-primary">Apply</button>
          </div>
        </div>
      </section>
    </main>

    <script src="lib/cropper.min.js"></script>
    <script src="constants.js"></script>
    <script src="newtab.js"></script>
  </body>
</html>
